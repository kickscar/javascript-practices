07. 코드의 실행

## 07. 코드의 실행

#### 1. 실행컨텍스트(Execution Context)란?
 코드가 실행되면 자바스크립트 엔진 내부에는 어떤 일이 벌어진다. 작성된 자바스크립트 코드는 엔진에 내려진 명령이고 엔진이 그 코드를 실행하면 엔진 내부에 어떤 변화가 생길 것이다. 예를 들면, '어떤 값을 저장하는 변수를 생성하라', '사칙연산을 하라' 또는 '사칙연산 결과를 어떤 변수에 저장하라', '함수객체를 생성하라', 'f라는 이름으로 참조하는 함수객체의 코드블록을 실행하라' 등등 엔진이 실행하는 명령(실행 코드)은 셀 수 없을 정도로 다양하고 많다. 자바스크립트에서는 이런 명령들을 자바스크립트 엔진의 실행단위인 구문이라 하였다.
 자바스크립트 엔진은 앞의 예를 든 것과 같은 구문(명령)들을 실행하고 결과를 지속적으로 유지해야 할 책임이 있다. 이를 위해 자바스크립트 엔진은 내부에 코드실행을 위한 환경(Environment)인 '실행컨텍스트(Execution Context)'을 생성하고 관리한다. 실행 컨텍스트는 Scope, Hoisting, this, Closure등의 동작원리 이며 자바스크립트의 내부를 이해하기 위한 중요개념이다.
 한편, 실행컨텍스트 생성을 포함하여 구체적 동작과 같은 실제 구현은 자바스크립트 코드를 실행하는 자바스크립트 엔진에 해야한다. ECMAScript 표준에서는 실행컨텍스트의 생성 시기, 관리 정보(변수, 변수의 유효범위, this 바인딩, 함수선언) 그리고 그 정보들의 업데이트 시기등을 상세하고 있다. 

#### 1. 실행컨텍스트가 생성되는 시기
 코드의 실행환경 정보를 저장하고 관리하기 위한 것이기 때문에 코드실행과 실행컨텍스의 생성시기는 관련성이 있다. 그렇다고 구문 하나 하나가 실행될 때마다 실행컨텍스가 생성되는 것은 아니다. 우선, 실행되는 자바스크립트 코드를 구분할 필요가 있다. 구분의 기준은 코드의 위치로 실행 가능한 자바스크립트 코드를 나누어 보는 것이다. 실행 가능한 자바스크립트 코드는 함수 내부에 있거나 함수 외부에 있는 코드로 나눈다. 이 간단한 구분으로 실행컨텍스트의 종류와 생성시기도 나뉜다.

1. 전역실행컨텍스(Global Execution Context)<br/>
   - 함수 외부 코드의 실행 환경을 담고 있는 실행컨텍스트이다.
   - 기본(default) 실행컨텍스트이며 자바스크립트가 실행되는 동안 한 개만 존재한다.
   - 전역변수, 전역객체(global object, 브라우저에서만) 함수정의 등의 정보를 관리한다.
   -   
2. 함수실행컨텍스트(Functional Execution Context)<br/>
   - 함수 내부의 코드 실행환경을 담고 있는 실행컨텍스트
   - 함수마다 자신의 실행컨텍스트가 있다. 단, 함수가 호출될 때(함수블록이 실행될 때)생성되고 블록이 끝나면 사라진다. 따라서 개수가 많다.
   - 지역변수, 함수정의 등의 정보를 관리한다. 

 실행컨텍스트 스택(Execution Context Stack)


 실행 컨텍스트는 다음과 같은 정보를 저장하고 업데이트하며 관리한다. 
 을 1. 생성단계(Creation Phase), 2. 실행단계(Execution Phase)로 나누고 



#### 2. 실행컨텍스트가 관리하는 정보



#### 3. 코드실행과 실행컨텍스트

